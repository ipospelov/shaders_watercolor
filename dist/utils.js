function fxRandRanged(e,r){var t=Math.max(e,r),n=Math.min(e,r);let i=t-n;return fxrand()*i+n}function randomInt(e,r){let t=r-e+1;return Math.floor(.9999*fxrand()*t+e)}function randomFromRange(e){return e[randomInt(0,e.length-1)]}function normAngle(e){return e/180*Math.PI}var percentilesCache=new Map;function noisePercentile(e,r,t){var n=percentilesCache.get(t);if(n)return n;for(var i=[],s=0;s<r;s+=10)for(var a=0;a<r;a+=10)i.push(e.get(s,a));i.sort((function(e,r){return e-r}));var l=i[Math.floor(i.length*t)];return percentilesCache.set(t,l),l}function percentile(e){return noisePercentile(noiseMap,bufferSize,e)}class SquareStyler{styleByParams={true:{0:!0},false:{0:!1}};constructor(){}setDefault(e,r){this.defaultArea=this.getArea(e,r)}isLeftArea(e,r){return this.getArea(e,r)!=this.defaultArea}getStyle(e){var r=percentile(.4)<e&&percentile(.7)>e,t=this.styleByParams[r][this.defaultArea];return this.getColor(t,e)}getColor(e,r){return e?multipleMixColors(palette[0],palette[1],r):multipleMixColors(palette[2],palette[3],r)}getArea(e,r){return 0}}class RainbowStyler extends SquareStyler{styleByParams={true:{0:!1,1:!0,2:!1,3:!0,4:!1},false:{0:!0,1:!1,2:!0,3:!1,4:!0}};constructor(e,r){super(e,r),this.xCenter=bufferSize,this.yCenter=bufferSize}inCircle1(e,r){return this.inCircle(e,r,2300)}inCircle2(e,r){return this.inCircle(e,r,1800)}inCircle3(e,r){return this.inCircle(e,r,1300)}inCircle4(e,r){return this.inCircle(e,r,800)}inCircle(e,r,t){return(e-this.xCenter)**2+(r-this.yCenter)**2<t**2}getArea(e,r){return this.inCircle4(e,r)?4:this.inCircle3(e,r)?3:this.inCircle2(e,r)?2:this.inCircle1(e,r)?1:0}}class SinStyler extends SquareStyler{styleByParams={true:{0:!0,1:!1},false:{0:!1,1:!0}};getArea(e,r){return 800*Math.sin(e/150)+1e3<r?0:1}}class MuptySinStyler extends SquareStyler{styleByParams={true:{0:!0,1:!1,2:!0,3:!1},false:{0:!1,1:!0,2:!1,3:!0}};getArea(e,r){return 100*sin(e/100)+500>r?0:100*Math.sin(e/100)+1e3>r?1:100*Math.sin(e/100)+1500>r?2:3}}class SinAdvancedStyler extends SquareStyler{styleByParams={true:{0:!0,1:!1},false:{0:!1,1:!0}};constructor(e,r){super(e,r),this.delimeter=200}getArea(e,r){var t=-Math.PI/4,n=e*Math.cos(t)-r*Math.sin(t),i=e*Math.sin(t)+r*Math.cos(t);return sin(n/this.delimeter)*n<i?0:1}}class SinAdvancedHightStyler extends SinAdvancedStyler{constructor(e,r){super(e,r),this.delimeter=80}}class RainbowReversedStyler extends RainbowStyler{constructor(e,r){super(e,r),this.xCenter=0,this.yCenter=0}}class RainbowMidStyler extends RainbowStyler{constructor(e,r){super(e,r),this.xCenter=bufferSize/2,this.yCenter=bufferSize}}class CubeStyler extends SquareStyler{styleByParams={true:{0:!0,1:!1},false:{0:!1,1:!0}};getArea(e,r){if(2e4/(e-=bufferSize/2)>=(r-=bufferSize/2)){if(e<0&r<=0)return 0}else if(e>=0&r>0)return 0;return 1}}class SimpleDelimiter extends SquareStyler{styleByParams={true:{0:!0,1:!1},false:{0:!1,1:!0}};getArea(e,r){return(e-=bufferSize/2)>=0?0:1}}var styles=[SquareStyler,RainbowStyler,RainbowReversedStyler,SinStyler,MuptySinStyler,SinAdvancedStyler,SinAdvancedHightStyler,CubeStyler,SimpleDelimiter];